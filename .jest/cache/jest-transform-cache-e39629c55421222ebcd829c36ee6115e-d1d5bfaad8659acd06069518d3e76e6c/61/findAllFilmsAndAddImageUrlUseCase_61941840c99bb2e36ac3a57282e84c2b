3a1c0918aa0ecb0ea1deeba2bf169123
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.findAll = void 0;

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var FilmGateway = _interopRequireWildcard(require("../gateways/http/film/filmGateway"));

var _films = require("../domains/films");

var _films2 = require("../globals/constants/films");

var findUrlImageByFilm = function findUrlImageByFilm(filmsWithoutImageUrl) {
  return filmsWithoutImageUrl.map(function (film) {
    var imageUrlByFilmFinded = _films2.imageUrlsByFilm.find(function (imageUrlByFilm) {
      return imageUrlByFilm.episodeId === film.episodeId;
    });

    return new _films.Film((0, _extends2.default)({}, film, {
      imageUrl: imageUrlByFilmFinded == null ? void 0 : imageUrlByFilmFinded.url
    }));
  });
};

var findAll = function findAll() {
  var filmsWithoutImageUrl, filmsWithImageUrl;
  return _regenerator.default.async(function findAll$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return _regenerator.default.awrap(FilmGateway.findAll());

        case 2:
          filmsWithoutImageUrl = _context.sent;
          filmsWithImageUrl = findUrlImageByFilm(filmsWithoutImageUrl);
          return _context.abrupt("return", filmsWithImageUrl);

        case 5:
        case "end":
          return _context.stop();
      }
    }
  }, null, null, null, Promise);
};

exports.findAll = findAll;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmRBbGxGaWxtc0FuZEFkZEltYWdlVXJsVXNlQ2FzZS50cyJdLCJuYW1lcyI6WyJmaW5kVXJsSW1hZ2VCeUZpbG0iLCJmaWxtc1dpdGhvdXRJbWFnZVVybCIsIm1hcCIsImZpbG0iLCJpbWFnZVVybEJ5RmlsbUZpbmRlZCIsImltYWdlVXJsc0J5RmlsbSIsImZpbmQiLCJpbWFnZVVybEJ5RmlsbSIsImVwaXNvZGVJZCIsIkZpbG0iLCJpbWFnZVVybCIsInVybCIsImZpbmRBbGwiLCJGaWxtR2F0ZXdheSIsImZpbG1zV2l0aEltYWdlVXJsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7O0FBRUE7O0FBRUEsSUFBTUEsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFxQixDQUFDQyxvQkFBRCxFQUFvRDtBQUMzRSxTQUFPQSxvQkFBb0IsQ0FBQ0MsR0FBckIsQ0FBeUIsVUFBQ0MsSUFBRCxFQUFVO0FBQ3RDLFFBQU1DLG9CQUFvQixHQUFHQyx3QkFBZ0JDLElBQWhCLENBQ3pCLFVBQUNDLGNBQUQ7QUFBQSxhQUFvQkEsY0FBYyxDQUFDQyxTQUFmLEtBQTZCTCxJQUFJLENBQUNLLFNBQXREO0FBQUEsS0FEeUIsQ0FBN0I7O0FBSUEsV0FBTyxJQUFJQyxXQUFKLDRCQUFjTixJQUFkO0FBQW9CTyxNQUFBQSxRQUFRLEVBQUVOLG9CQUFGLG9CQUFFQSxvQkFBb0IsQ0FBRU87QUFBcEQsT0FBUDtBQUNILEdBTk0sQ0FBUDtBQU9ILENBUkQ7O0FBVU8sSUFBTUMsT0FBTyxHQUFHLFNBQVZBLE9BQVU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSw0Q0FDZ0JDLFdBQVcsQ0FBQ0QsT0FBWixFQURoQjs7QUFBQTtBQUNiWCxVQUFBQSxvQkFEYTtBQUdiYSxVQUFBQSxpQkFIYSxHQUdPZCxrQkFBa0IsQ0FBQ0Msb0JBQUQsQ0FIekI7QUFBQSwyQ0FLWmEsaUJBTFk7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsQ0FBaEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBGaWxtR2F0ZXdheSBmcm9tIFwic3JjL2dhdGV3YXlzL2h0dHAvZmlsbS9maWxtR2F0ZXdheVwiO1xuXG5pbXBvcnQgeyBGaWxtIH0gZnJvbSBcInNyYy9kb21haW5zL2ZpbG1zXCI7XG5cbmltcG9ydCB7IGltYWdlVXJsc0J5RmlsbSB9IGZyb20gXCJzcmMvZ2xvYmFscy9jb25zdGFudHMvZmlsbXNcIjtcblxuY29uc3QgZmluZFVybEltYWdlQnlGaWxtID0gKGZpbG1zV2l0aG91dEltYWdlVXJsOiBBcnJheTxGaWxtPik6IEFycmF5PEZpbG0+ID0+IHtcbiAgICByZXR1cm4gZmlsbXNXaXRob3V0SW1hZ2VVcmwubWFwKChmaWxtKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlVXJsQnlGaWxtRmluZGVkID0gaW1hZ2VVcmxzQnlGaWxtLmZpbmQoXG4gICAgICAgICAgICAoaW1hZ2VVcmxCeUZpbG0pID0+IGltYWdlVXJsQnlGaWxtLmVwaXNvZGVJZCA9PT0gZmlsbS5lcGlzb2RlSWRcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gbmV3IEZpbG0oeyAuLi5maWxtLCBpbWFnZVVybDogaW1hZ2VVcmxCeUZpbG1GaW5kZWQ/LnVybCB9KTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBmaW5kQWxsID0gYXN5bmMgKCk6IFByb21pc2U8QXJyYXk8RmlsbT4+ID0+IHtcbiAgICBjb25zdCBmaWxtc1dpdGhvdXRJbWFnZVVybCA9IGF3YWl0IEZpbG1HYXRld2F5LmZpbmRBbGwoKTtcblxuICAgIGNvbnN0IGZpbG1zV2l0aEltYWdlVXJsID0gZmluZFVybEltYWdlQnlGaWxtKGZpbG1zV2l0aG91dEltYWdlVXJsKTtcblxuICAgIHJldHVybiBmaWxtc1dpdGhJbWFnZVVybDtcbn07XG4iXX0=